= NETUNUS - Pool Safer
Nina Holzinger, Konstantin Frank, David Andraschko
1.0
:sourcedir: ../src/main/java
:icons: font
:toc: left

== Entwurf "Wie mache ich es"

=== Systemarchitektur

[plantuml]
----
@startuml
skinparam handwritten true

    node "Kubernetes" {
        frame Minikube {
        [MQTT-Broker]
        [WebServer]
        [Quarkus-Server]
        database "MariaDB" {
        }
          }
    }
node "Sensor + Microcontroller" {
    [Microcontroller] - [Gyrosensor]
}

[optischer Aktor]
[auditiver Aktor]
[Microcontroller2]

[Microcontroller] --> [MQTT-Broker] : <<MQTT-Protokoll>>
[Quarkus-Server] <--> [MQTT-Broker] : <<MQTT-Protokoll>>
[Quarkus-Server] --> MariaDB
[Quarkus-Server] <---> WebServer : <<HTTP/REST>>
[Microcontroller2] --> [MQTT-Broker]
[optischer Aktor] -- [Microcontroller2]
[auditiver Aktor] -- [Microcontroller2]
@enduml
----

=== Zustandsdiagramm

Das Zustandsdiagramm beschreibt das Verhalten unseres Systems. Es wird in Kürze wieder auf
den neuesten Stand gebracht. Die meisten Zustände sind aber noch aktuell.

Der Standardzustand ist eine aktive Detektion. Fällt ein Objekt in den Pool, so wird
eine optische und auditive Alarmierung ausgelöst. Dieser Alarm muss dann manuell wieder
quittiert werden.

Will der Benutzer zum Beispiel schwimmen gehen, dann kann die Detektion deaktiviert
werden. Es können auch Systemfehler auftreten, die zu einem
Systemausfall führen können.

[plantuml]
----
@startuml

skinparam handwritten true

[*] --> DetektionAktiv
state "Detektion aktiv" as DetektionAktiv
state "Detektion deaktiviert" as DetektionDeaktiv
state "Alarm" as Alarm

DetektionAktiv --> DetektionDeaktiv : Detektion für gewünschte \n Zeitdauer deaktivieren
DetektionDeaktiv --> DetektionAktiv : Überwachung manuell aktivieren / \n Überwachung aktiviert \n sich nach Ablauf der \n Zeit automatisch
DetektionAktiv --> Alarm : Unfall detektiert / \n Alarmierung optisch und auditiv
Alarm --> DetektionAktiv : Alarm quittieren
DetektionAktiv --> Systemausfall : Systemfehler aufgetreten / \n deaktivierung
DetektionDeaktiv --> Systemausfall : Systemfehler aufgetreten / \n deaktivierung
Alarm --> Systemausfall : Systemfehler aufgetreten / \n deaktivierung
@enduml
----

=== Anwendungsfalldiagramm

Unser System hat mehrere Anwendungsfälle.

* Ein Objekt, welches in den Pool fällt kann einen Alarm auslösen
* Der Poolbesitzer kann den ausgelösten Alarm wieder quittieren
* Der Poolbesitzer kann die Detektion zeitgesteuert deaktivieren.
* Der Poolbesitzer kann die Historie der letzten Auslöser betrachten.

[plantuml]
----
@startuml
skinparam handwritten true
left to right direction
actor Poolbesitzer
actor Objekt
rectangle NETUNUS{
    /'Poolbesitzer -- (Bekommt Benachrichtigung)'/
    Poolbesitzer -- (Alarm quittieren)
    Poolbesitzer -- (Überwachungssystem zeitgesteuert deaktivieren)
    Poolbesitzer -- (Historie betrachten)
    /'(Bekommt Benachrichtigung) .> (Auslösen des Alarms) : <<extends>>'/
    (Alarm auslösen) -- Objekt
}
@enduml
----


////
=== Youtrack-Diagram-Sprints
image::youtrack-diagram-sprints.png[Youtrack-Diagram-Sprints]

=== Youtrack-Diagram-Epic
image::youtrack-diagram-epic.png[Youtrack-Diagram-Epic]////

